<!--pages/post/daily/index.wxml-->
<view class="container">
  <view class="content-section">
    <!-- å†…å®¹è¾“å…¥ -->
    <textarea
      class="content-input"
      placeholder="åˆ†äº«ä½ çš„ç”Ÿæ´»..."
      value="{{content}}"
      bindinput="onContentInput"
      maxlength="1000"
      auto-height
    />
    
    <!-- å­—æ•°ç»Ÿè®¡ -->
    <view class="char-count">{{content.length}}/1000</view>
  </view>

  <!-- å›¾ç‰‡ä¸Šä¼  -->
  <view class="images-section">
    <view class="section-title">æ·»åŠ å›¾ç‰‡</view>
    <view class="images-grid">
      <!-- å·²é€‰å›¾ç‰‡ -->
      <view wx:for="{{images}}" wx:key="index" class="image-item">
        <image 
          class="image-preview" 
          src="{{item}}" 
          mode="aspectFill"
          bindtap="previewImage"
          data-src="{{item}}"
        />
        <view class="remove-btn" bindtap="removeImage" data-index="{{index}}">
          <text class="remove-icon">âœ•</text>
        </view>
      </view>
      
      <!-- æ·»åŠ æŒ‰é’® -->
      <view wx:if="{{images.length < maxImages}}" class="add-image-btn" bindtap="chooseImage">
        <text class="add-icon">+</text>
        <text class="add-text">æ·»åŠ å›¾ç‰‡</text>
      </view>
    </view>
    <view class="image-tip">æœ€å¤šä¸Šä¼ {{maxImages}}å¼ å›¾ç‰‡</view>
  </view>

  <!-- ä½ç½®é€‰æ‹© -->
  <view class="location-section">
    <view class="section-title">ä½ç½®</view>
    <view wx:if="{{!location}}" class="location-empty" bindtap="chooseLocation">
      <text class="location-icon">ğŸ“</text>
      <text class="location-text">é€‰æ‹©ä½ç½®</text>
    </view>
    <view wx:else class="location-selected">
      <view class="location-info" bindtap="chooseLocation">
        <text class="location-icon">ğŸ“</text>
        <text class="location-address">{{formattedAddress}}</text>
      </view>
      <view class="location-clear" bindtap="clearLocation">
        <text class="clear-icon">âœ•</text>
      </view>
    </view>
  </view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <view class="publish-section">
    <button 
      class="publish-btn {{submitting ? 'disabled' : ''}}" 
      bindtap="publishPost"
      disabled="{{submitting}}"
    >
      {{submitting ? 'å‘å¸ƒä¸­...' : 'å‘å¸ƒ'}}
    </button>
  </view>
</view>



