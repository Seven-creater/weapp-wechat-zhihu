<!--answer.wxml-->
<view class="detail-container">
  <!-- 顶部大图 -->
  <view class="hero-image">
    <image src="{{projectDetail.mainImage}}" mode="aspectFill"></image>
  </view>

  <!-- 项目标题 -->
  <view class="title-section">
    <text class="project-title">{{projectDetail.title}}</text>
    <text class="design-team">{{projectDetail.designTeam}}</text>
  </view>

  <!-- 参数网格 -->
  <view class="params-grid">
    <view class="param-item">
      <text class="param-label">地点</text>
      <text class="param-value">{{projectDetail.location}}</text>
    </view>
    <view class="param-item">
      <text class="param-label">面积</text>
      <text class="param-value">{{projectDetail.area}}</text>
    </view>
    <view class="param-item">
      <text class="param-label">年份</text>
      <text class="param-value">{{projectDetail.year}}</text>
    </view>
  </view>

  <!-- 富文本内容 -->
  <view class="content-section">
    <rich-text nodes="{{projectDetail.content}}"></rich-text>
  </view>

  <!-- 多图轮播 -->
  <view class="gallery-section">
    <text class="section-title">项目图库</text>
    <view class="swiper-container">
      <swiper class="image-swiper" indicator-dots="true" indicator-color="rgba(255,255,255,0.5)" indicator-active-color="#ffffff" bindchange="swiperChange">
        <swiper-item wx:for="{{projectDetail.gallery}}" wx:key="index">
          <image src="{{item}}" mode="aspectFill"></image>
        </swiper-item>
      </swiper>
      <view class="swiper-pagination">{{currentSwiper + 1}}/{{projectDetail.gallery.length}}</view>
    </view>
  </view>

  <!-- 底部固定操作栏 -->
  <view class="action-bar">
    <view class="action-btn" bindtap="toggleFavorite">
      <image class="action-icon" src="{{isFavorite ? '/images/star-filled.png' : '/images/star.png'}}"></image>
      <text class="action-text">{{isFavorite ? '已收藏' : '收藏'}}</text>
    </view>
    <view class="action-btn" bindtap="addLike">
      <image class="action-icon" src="/images/like.png"></image>
      <text class="action-text">{{likes}}</text>
    </view>
    <view class="action-btn primary" bindtap="contactConsult">
      <image class="action-icon" src="/images/consult.png"></image>
      <text class="action-text">咨询</text>
    </view>
  </view>
</view>

