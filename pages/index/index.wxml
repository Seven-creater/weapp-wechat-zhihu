<view class="accessibility-home">
  <!-- 顶部定位信息 -->
  <view class="hero-section">
    <view class="hero-bg"></view>
    
    <view class="location-capsule" bindtap="reselectLocation" aria-role="button" aria-label="当前位置：{{currentAddress}}，点击重新选择">
      <view class="location-icon-wrap">
        <image class="location-icon-small" src="/images/location.png" aria-hidden="true"></image>
      </view>
      <text class="location-address">{{currentAddress || "定位中..."}}</text>
      <view class="refresh-btn">
        <text class="refresh-text">重选</text>
      </view>
    </view>

    <view class="hero-content">
      <view 
        class="camera-hero" 
        bindtap="takePhoto" 
        aria-role="button"
        aria-label="点击拍照，反馈无障碍问题"
        hover-class="camera-hero-hover"
      >
        <view class="camera-glow"></view>
        <view class="camera-inner">
          <image class="camera-icon-large" src="/images/camera.png" aria-hidden="true"></image>
        </view>
        <text class="camera-label">拍摄路障</text>
      </view>
    </view>
  </view>

  <view class="features-section">
    <view class="features-grid">
      <view class="feature-card" bindtap="navigateToSolutions" aria-role="button" aria-label="AI无障碍方案库">
        <view class="feature-icon-wrap bg-solution">
          <image class="feature-icon-img" src="/images/ai.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">AI 方案</text>
        <text class="feature-card-desc">智能生成整改建议</text>
      </view>

      <view class="feature-card" bindtap="navigateToCommunity" aria-role="button" aria-label="无障碍社区">
        <view class="feature-icon-wrap bg-community">
          <image class="feature-icon-img" src="/images/community.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">社区</text>
        <text class="feature-card-desc">分享经验交流讨论</text>
      </view>

      <view class="feature-card" bindtap="navigateToReport" aria-role="button" aria-label="生成汇报文档">
        <view class="feature-icon-wrap bg-report">
          <image class="feature-icon-img" src="/images/report.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">公文</text>
        <text class="feature-card-desc">一键生成汇报材料</text>
      </view>

      <view class="feature-card" bindtap="navigateToHistory" aria-role="button" aria-label="我的发布历史">
        <view class="feature-icon-wrap bg-history">
          <image class="feature-icon-img" src="/images/history.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">历史</text>
        <text class="feature-card-desc">查看我的记录</text>
      </view>
    </view>
  </view>

  <view class="recent-section" wx:if="{{recentReports.length > 0}}">
    <view class="section-header">
      <text class="section-title">最近反馈</text>
      <text class="section-more" bindtap="viewAllReports">查看全部</text>
    </view>
    
    <scroll-view class="recent-scroll" scroll-x="true" enhanced="true" show-scrollbar="false">
      <view class="recent-list">
        <view class="recent-card" wx:for="{{recentReports}}" wx:key="_id" bindtap="viewReportDetail" data-id="{{item._id}}">
          <image class="recent-image" src="{{item.imageUrl}}" mode="aspectFill" aria-label="问题图片"></image>
          <view class="recent-info">
            <text class="recent-address">{{item.address || "未知地点"}}</text>
            <view class="recent-status {{item.status === 'pending' ? 'status-pending' : 'status-done'}}">
              <text class="status-text">{{item.status === 'pending' ? '待处理' : '已解决'}}</text>
            </view>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>

  <view class="footer-note">
    <text class="footer-slogan">让城市更无障碍 · 让出行更自由</text>
  </view>
</view>
