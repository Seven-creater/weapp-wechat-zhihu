<view class="accessibility-home">
  <!-- 顶部定位信息 -->
  <view class="hero-section">
    <view class="hero-bg"></view>

    <view class="location-capsule" bindtap="reselectLocation" aria-role="button" aria-label="当前位置：{{currentAddress}}，点击重新选择">
      <view class="location-icon-wrap">
        <image class="location-icon-small" src="/images/location.png" aria-hidden="true"></image>
      </view>
      <text class="location-address">{{currentAddress || "定位中..."}}</text>
      <view class="refresh-btn">
        <text class="refresh-text">重选</text>
      </view>
    </view>

    <view class="map-entry" bindtap="goToMapView" aria-role="button" aria-label="地图模式">
      <text class="map-entry-text">🗺️ 地图模式</text>
    </view>

    <view class="hero-content">
      <view
        class="camera-hero"
        bindtap="takePhoto"
        aria-role="button"
        aria-label="点击拍照，反馈无障碍问题"
        hover-class="camera-hero-hover"
      >
        <view class="camera-glow"></view>
        <view class="camera-inner">
          <image class="camera-icon-large" src="/images/camera.png" aria-hidden="true"></image>
        </view>
        <text class="camera-label">拍摄路障</text>
      </view>
    </view>

    <view class="voice-draft" aria-label="语音输入草稿">
      <textarea
        class="draft-input"
        placeholder="按住说话，自动填入描述..."
        value="{{draftDescription}}"
        bindinput="onDraftInput"
        maxlength="200"
        show-confirm-bar="false"
        aria-label="问题描述输入框"
      ></textarea>
      <view
        class="mic-btn {{isRecording ? 'recording' : ''}}"
        catchtouchstart="streamRecord"
        catchtouchend="endStreamRecord"
        aria-role="button"
        aria-label="{{isRecording ? '正在录音，松开结束' : '按住说话'}}"
      >
        <text class="mic-icon">{{isRecording ? '🎤' : '🎙️'}}</text>
      </view>
    </view>
  </view>

  <view class="features-section">
    <view class="features-grid">
      <view class="feature-card" bindtap="navigateToSolutions" aria-role="button" aria-label="AI无障碍方案库">
        <view class="feature-icon-wrap bg-solution">
          <image class="feature-icon-img" src="/images/ai.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">AI 方案</text>
        <text class="feature-card-desc">智能生成整改建议</text>
      </view>

      <view class="feature-card" bindtap="navigateToCommunity" aria-role="button" aria-label="无障碍社区">
        <view class="feature-icon-wrap bg-community">
          <image class="feature-icon-img" src="/images/community.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">社区</text>
        <text class="feature-card-desc">分享经验交流讨论</text>
      </view>

      <view class="feature-card" bindtap="navigateToReport" aria-role="button" aria-label="生成汇报文档">
        <view class="feature-icon-wrap bg-report">
          <image class="feature-icon-img" src="/images/report.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">公文</text>
        <text class="feature-card-desc">一键生成汇报材料</text>
      </view>

      <view class="feature-card" bindtap="navigateToHistory" aria-role="button" aria-label="我的发布历史">
        <view class="feature-icon-wrap bg-history">
          <image class="feature-icon-img" src="/images/history.png" aria-hidden="true"></image>
        </view>
        <text class="feature-card-title">历史</text>
        <text class="feature-card-desc">查看我的记录</text>
      </view>
    </view>
  </view>

  <view class="footer-note">
    <text class="footer-slogan">让城市更无障碍 · 让出行更自由</text>
  </view>
</view>
