<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <text class="header-title">è®¾è®¡æ–¹æ¡ˆ</text>
    <text class="header-subtitle">å…± {{proposals.length}} ä¸ªæ–¹æ¡ˆ</text>
  </view>

  <!-- æ–¹æ¡ˆåˆ—è¡¨ -->
  <view class="proposals-list" wx:if="{{!loading && proposals.length > 0}}">
    <view 
      class="proposal-card" 
      wx:for="{{proposals}}" 
      wx:key="_id"
      bindtap="viewProposal"
      data-id="{{item._id}}"
    >
      <!-- è®¾è®¡å¸ˆä¿¡æ¯ -->
      <view class="designer-info">
        <image 
          class="designer-avatar" 
          src="{{item.designerAvatar || '/images/default-avatar.png'}}" 
          mode="aspectFill"
          bindtap="navigateToDesigner"
          data-id="{{item.designerId}}"
          catchtap="navigateToDesigner"
        ></image>
        <view class="designer-details">
          <text class="designer-name">{{item.designerName || 'è®¾è®¡å¸ˆ'}}</text>
          <text class="submit-time">æäº¤äº {{item.createTime}}</text>
        </view>
        <view class="designer-badge">
          <text class="badge-icon">ğŸ“</text>
          <text class="badge-text">è®¾è®¡å¸ˆ</text>
        </view>
      </view>

      <!-- æ–¹æ¡ˆé¢„è§ˆ -->
      <view class="proposal-preview">
        <text class="proposal-desc">{{item.description}}</text>
      </view>

      <!-- æ–¹æ¡ˆå›¾ç‰‡ -->
      <view class="proposal-images" wx:if="{{item.images && item.images.length > 0}}">
        <image 
          class="preview-image" 
          wx:for="{{item.images}}" 
          wx:key="index"
          wx:for-item="img"
          src="{{img}}" 
          mode="aspectFill"
        ></image>
      </view>

      <!-- é¢„ç®—è°ƒæ•´ -->
      <view class="budget-info" wx:if="{{item.budgetAdjustment}}">
        <text class="budget-label">é¢„ç®—è°ƒæ•´ï¼š</text>
        <text class="budget-value">Â¥{{item.budgetAdjustment}}</text>
      </view>

      <!-- æŸ¥çœ‹è¯¦æƒ…æç¤º -->
      <view class="view-detail">
        <text class="detail-text">æŸ¥çœ‹è¯¦æƒ…</text>
        <text class="detail-arrow">â€º</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && proposals.length === 0}}">
    <image class="empty-icon" src="/images/empty.png" mode="aspectFit"></image>
    <text class="empty-text">æš‚æ— è®¾è®¡æ–¹æ¡ˆ</text>
    <text class="empty-subtext">ç­‰å¾…è®¾è®¡å¸ˆæäº¤æ–¹æ¡ˆ</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view>

